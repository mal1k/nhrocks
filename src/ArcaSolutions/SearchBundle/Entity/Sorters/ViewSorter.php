<?phpnamespace ArcaSolutions\SearchBundle\Entity\Sorters;use Elastica\Query;class ViewSorter extends BaseSorter{    protected static $name = "popular";    public static function getSubscribedEvents()    {        $events = [            'search.global'   => 'register',            'popular.deal'    => 'register',            'popular.article' => 'register',            'popular.blog'    => 'register',            'popular.event'   => 'register'        ];        /* ModStores Hooks */        HookFire("viewsorter_before_return_subscribers", [            'events' => &$events,        ]);        return $events;    }    public function sort(Query $query)    {        $query->setSort([            'views' => ['order' => 'desc'],            'level' => ['order' => 'asc'],        ]);    }}