{#      Description:                                                                                -#}
{# This page represents the Rating Filter HTML on Search pages                                      -#}

{#      Resources:                                                                                  -#}

{# rating \ArcaSolutions\SearchBundle\Entity\FilterMenuTreeNode                                     -#}
{#      An instance of the FilterMenuTreeNode class containing data for a specific rating           -#}
{#      {                                                                                           -#}
{#          title         :(string) The rating number (represented in stars)                        -#}
{#          module        :(string) The module name                                                 -#}
{#          isSelected    :(bool) Whether or not this rating was selected and is actively filtering -#}
{#          searchPageUrl :(string) The relative URL to toggle this filter                          -#}
{#          resultCount   :(int) The amount of results within this rating                           -#}
{#      }                                                                                           -#}

<div class="sidebar-item">
    <div class="item-header sidebar-toggler">
        <span class="paragraph p-2 item-title">
            {{ "Rating"|trans }}
        </span>
        <i class="fa fa-minus"></i>
    </div>
    <div class="item-body">
        {% for rating in menuNodes -%}
            {% set ratingClass = rating.isSelected ? "true" : "false" -%}
            <div class="category-item" is-selected="{{ ratingClass }}" has-subcategory="false">
                <div class="category-header">
                    <a href="{{ rating.searchPageUrl }}" class="category-link" rel="nofollow">
                        {% for i in 1..5 -%}
                            {% if i > rating.id -%}
                                <i class="fa fa-star-o"></i>
                            {% else -%}
                                <i class="fa fa-star"></i>
                            {% endif -%}
                        {% endfor -%}
                    </a>
                    
                    {% if rating.resultCount > 0 -%}
                        <span class="category-count">{{ rating.resultCount }}</span>
                    {% endif %}
                </div>
            </div>
        {% endfor -%}
    </div>
</div>